<div class="container">
  <h1>Listing stocks</h1>

  <table class="table">
    <thead>
      <tr>
        <th>Id smartphone</th>
        <th>Id panne</th>
        <th>Prix</th>
        <th>Stock</th>
        <th>Couleur</th>
        <th colspan="3"></th>
      </tr>
    </thead>

    <tbody>
      <% @stocks.order(id_smartphone: :asc).each do |stock| %>
        <tr>
          <td>
            (<%= stock.id_smartphone %>)
            <%= 
              @smartphone = Smartphone.find(stock.id_smartphone)
              @smartphone.modele 
            %>
          </td>
          <td>
            (<%= stock.id_panne %>)
            <%= 
              @panne = Panne.find(stock.id_panne)
              @panne.name 
            %>
          </td>
          <td>
            <div>
              <% @stock = Stock.find(stock.id) %>
              <%= render 'form_prix' %>
              <div id="input_prix"></div>
            </div>
          </td>
          <td><%= stock.stock %></td>
          <td><%= stock.couleur %></td>
          <td><%= link_to 'Show', stock %></td>
          <td><%= link_to 'Edit', edit_stock_path(stock) %></td>
          <td><%= link_to 'Destroy', stock, method: :delete, data: { confirm: 'Are you sure?' } %></td>
        </tr>
      <% end %>
    </tbody>
  </table>

  <br>

  <%= link_to 'Nouveau stock', new_stock_path %>
</div>
